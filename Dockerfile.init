FROM node:12-alpine
WORKDIR /app

COPY tsconfig.json ./
COPY package.json ./
COPY package-lock.json ./

RUN npm ci

COPY scripts .
COPY src/types .
COPY src/db .

RUN ./scripts/wait-for-postgres.sh

